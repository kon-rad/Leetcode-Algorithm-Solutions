/**
 * @param {string} s
 * @param {string} p
 * @return {number[]}
 */
var findAnagrams = function(s, p) {
  const anagrams = {};
  const result = [];
  let len = p.length;
  anagrams[p] = true;
  p = p.split('');
  for (let i = 0; i < len - 1; i++) {
      for (let j = i + 1; j < len; j++) {
          if (i === j) continue;
          let newStr = swap(i, j, p);
          console.log(newStr, i, j);
          anagrams[newStr] = true;
      }
  }
  for (let i = 0, slen = s.length - len; i <= slen; i++) {
    let subStr = s.slice(i, i + len);
    if (anagrams[subStr]) {
      result.push(i);
    }
  }
  return result;
};

const swap = (i, j, p) => {
  let result = [...p]; 
  result.splice(i, 1, p[j]);
  result.splice(j, 1, p[i]);
  return result.join('');
}

// let s = "cbaebabacd", p = "abc";
// let s = "abbaab", p = "ab";

let s = "kzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlrykzexfqiudtwvpjnhgocasbmlr"
, p = "ykzexfqiudtwvpjnhgocasbmlr";
console.log(findAnagrams(s, p));


// Input:
// s: "cbaebabacd" p: "abc"

// Output:
// [0, 6]